{"version":3,"sources":["../../scripts/main.js"],"names":["jQuery","document","ready","$","ga","trackOutboundLink","evt","target","tagName","hostname","window","location","url","href","addEventListener","scrolling","currentTop","previousTop","scrollDelta","scrollOffset","$belowSplash","$mainHeader","headerHeight","height","$secondaryNavigation","$scrollFlipHere","$body","checkOmedScrolledPoint","addClass","removeClass","checkSimpleNavigation","checkStickyNavigation","secondaryNavOffsetTop","offset","top","autoHideHeader","scrollTop","length","on","requestAnimationFrame","setTimeout","is_chrome","navigator","userAgent","indexOf","is_explorer","is_firefox","is_safari","is_opera","is_mac","is_windows","css","preventDefault","toggleClass"],"mappings":"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","file":"bundle.js","sourcesContent":["/* @source https://codyhouse.co/gem/auto-hiding-navigation */\n\njQuery(document).ready(($) => {\n\n\n  /**\n   * Track outbound links for Google Analytics\n   *\n   */\n  ga('create', 'UA-2910609-39', 'auto');\n\n  const trackOutboundLink = (evt) => {\n\n    // Make sure tag is an anchor and that it is outbound\n    if (evt.target.tagName !== 'A' || evt.target.hostname === window.location.hostname) {\n      return;\n    }\n\n    const url = evt.target.href;\n\n    ga('send', 'event', 'Outbound Link', 'click', url, {\n      'transport': 'beacon',\n      'hitCallback': () => document.location = url\n    });\n  };\n\n  document.addEventListener('click', trackOutboundLink, false);\n  \n\n  /**\n   * Hide and show nav bars\n   *\n   */\n  let scrolling = false,\n      currentTop = 0,\n      previousTop = 0,\n      scrollDelta = 10,\n      scrollOffset = 150;\n\n  const $belowSplash = $('.splash'),\n        $mainHeader  = $('.header'),\n        headerHeight = $mainHeader.height(),\n        $secondaryNavigation = $('.secondary-nav'),\n        $scrollFlipHere = $('.scroll-flip-here'),\n        $body = $('body');\n\n  const checkOmedScrolledPoint = (currentTop) => {\n    if (currentTop > scrollOffset) {\n      $body.addClass('omedscrolled');\n    } else {\n      $body.removeClass('omedscrolled');\n    }\n  };\n\n  const checkSimpleNavigation = (currentTop) => {\n\n    checkOmedScrolledPoint(currentTop);\n\n    if (previousTop - currentTop > scrollDelta) {\n      $mainHeader.removeClass('is-hidden');\n    } else if (currentTop - previousTop > scrollDelta && \n               currentTop > scrollOffset) {\n      $mainHeader.addClass('is-hidden');\n    }\n  };\n\n\tconst checkStickyNavigation = (currentTop) => {\n\n    checkOmedScrolledPoint(currentTop);\n\n\t\t//secondary nav below intro section - sticky secondary nav\n\t\tvar secondaryNavOffsetTop = $scrollFlipHere.offset().top - \n                                $secondaryNavigation.height() - \n                                $mainHeader.height();\n\t\t\n\t\tif (previousTop >= currentTop ) {\n\t    \t//if scrolling up... \n\t    \tif( currentTop < secondaryNavOffsetTop ) {\n\t    \t\t//secondary nav is not fixed\n          //console.log('1');\n\t    \t\t$mainHeader.removeClass('is-hidden');\n\t    \t\t$secondaryNavigation.removeClass('fixed slide-up');\n\t    \t\t$scrollFlipHere.removeClass('secondary-nav-fixed');\n\t    \t} else if( previousTop - currentTop > scrollDelta ) {\n          //console.log('2');\n\t    \t\t//secondary nav is fixed\n\t    \t\t$mainHeader.removeClass('is-hidden');\n\t    \t\t$secondaryNavigation.removeClass('slide-up').addClass('fixed'); \n\t    \t\t$scrollFlipHere.addClass('secondary-nav-fixed');\n\t    \t}\n\t    \t\n\t    } else {\n\t    \t//if scrolling down...\t\n\t \t  \tif( currentTop > secondaryNavOffsetTop + scrollOffset ) {\n          //console.log('3');\n\t \t  \t\t//hide primary nav\n\t    \t\t$mainHeader.addClass('is-hidden');\n\t    \t\t$secondaryNavigation.addClass('fixed slide-up slide-down');\n\t    \t\t$scrollFlipHere.addClass('secondary-nav-fixed');\n\t    \t} else if( currentTop > secondaryNavOffsetTop ) {\n          //console.log('4');\n\t    \t\t//once the secondary nav is fixed, do not hide primary nav if you haven't scrolled more than scrollOffset \n\t    \t\t$mainHeader.removeClass('is-hidden');\n\t    \t\t$secondaryNavigation.addClass('fixed slide-down').removeClass('slide-up');\n\t    \t\t$scrollFlipHere.addClass('secondary-nav-fixed');\n\t    \t}\n\n\t    }\n\t};\n\n\n  const autoHideHeader = () => {\n    currentTop = $(window).scrollTop();\n\n    ($scrollFlipHere.length > 0) ? \n      checkStickyNavigation(currentTop) :\n      checkSimpleNavigation(currentTop);\n\n    previousTop = currentTop;\n    scrolling = false;\n  };\n\n\n  $(window).on('scroll', () => {\n\n    if (!scrolling) {\n      scrolling = true;\n\n      !window.requestAnimationFrame ? \n        setTimeout(autoHideHeader, 250) :\n        requestAnimationFrame(autoHideHeader);\n    }\n\n  });\n\n  /**\n   * Fix font weight issues in Safari\n   * @see http://stackoverflow.com/questions/31056543/safari-font-rendering-issues\n   */\n  const is_chrome = navigator.userAgent.indexOf('Chrome') > -1;\n  const is_explorer = navigator.userAgent.indexOf('MSIE') > -1;\n  const is_firefox = navigator.userAgent.indexOf('Firefox') > -1;\n  let is_safari = navigator.userAgent.indexOf('Safari') > -1;\n  const is_opera = navigator.userAgent.indexOf('Presto') > -1;\n  const is_mac = navigator.userAgent.indexOf('Mac OS') != -1;\n  const is_windows = !is_mac;\n\n  if (is_chrome && is_safari) {\n    is_safari = false;\n  }\n\n  if (is_safari || is_windows) {\n    $('body').css('-webkit-text-stroke', '0.25px');\n  }\n\n  /**\n   * Nav behavior\n   *\n   */\n  $mainHeader.on('click', '.nav-trigger', (evt) => {\n    evt.preventDefault();\n    $mainHeader.toggleClass('nav-open');\n  });\n\n\n});\n"]}