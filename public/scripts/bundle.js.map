{"version":3,"sources":["../../scripts/main.js"],"names":["jQuery","document","ready","$","formatDate","dateString","isoDate","slice","e","date","Date","replace","months","days","stringDate","getDay","getMonth","getDate","vex","defaultOptions","className","on","evt","preventDefault","dataset","target","omedModalDate","dialog","buttons","YES","text","timeString","omedModalTime","alert","showCloseButton","appendLocation","unsafeMessage","omedModalHeader","omedModalLocation","omedModalBlurb","omedModalLink","offset","i","coords","top","window","scrollTop","left","expr","icontains","createPseudo","toLowerCase","indexOf","s","val","trim","show","hide","$matches","submit","removeClass","addClass","offsetWidth","originalEvent","touches","pageX","getBoundingClientRect","clientX","console","log","trigger","scrolling","currentTop","previousTop","scrollDelta","scrollOffset","$belowSplash","$mainHeader","headerHeight","height","$secondaryNavigation","$scrollFlipHere","$body","checkOmedScrolledPoint","checkSimpleNavigation","checkStickyNavigation","secondaryNavOffsetTop","autoHideHeader","length","requestAnimationFrame","setTimeout","is_chrome","navigator","userAgent","is_explorer","is_firefox","is_safari","is_opera","is_mac","is_windows","css","toggleClass"],"mappings":"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","file":"bundle.js","sourcesContent":["\njQuery(document).ready(($) => {\n\n  /**\n   * Convert a YYYYMMDD-formatted date into\n   * a string that can be used in an event modal.\n   *\n   */\n  function formatDate(dateString) {\n    let isoDate;\n\n    try {\n      isoDate = `${dateString.slice(0, 4)}-${dateString.slice(4, 6)}-${dateString.slice(6)}`;\n    } catch(e) {\n      return;\n    }\n\n    // https://stackoverflow.com/questions/4310953/\n    //         invalid-date-in-safari#answer-5646753\n\n    const date = new Date(isoDate.replace(/-/g, '/'));\n\n    const months = [\n      \"Jan.\", \"Feb.\", \"March\",\n      \"April\", \"May\", \"June\", \"July\",\n      \"Aug.\", \"Sept.\", \"Oct.\",\n      \"Nov.\", \"Dec.\"\n    ];\n\n    const days = [\n      \"Sunday\", \"Monday\", \"Tuesday\",\n      \"Wednesday\", \"Thursday\", \"Friday\",\n      \"Saturday\", \"Sunday\" \n    ];\n\n    const stringDate = `${days[date.getDay()]}, ${months[date.getMonth()]} ${date.getDate()}`;\n\n    return stringDate;\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   *\n   * Modals\n   *\n   * --------------------------------------------------------------------------\n   */\n  vex.defaultOptions.className = 'vex-theme-omed';\n\n  $('.button-modal').on('click', (evt) => {\n\n    evt.preventDefault();\n\n    const dataset = evt.target.dataset; \n    \n    const date = formatDate(dataset.omedModalDate);\n\n//    if (! date) return;\n    \n    vex.dialog.buttons.YES.text = 'Done';\n\n    // Date is optional\n    let timeString = ''\n\n    if (dataset.omedModalTime) {\n     timeString = `\n        <h5>\n          <span>When: </span> \n          ${date || ''}${ dataset.omedModalTime ? ', ' + dataset.omedModalTime : ''}\n        </h5>`\n    }\n\n    vex.dialog.alert({\n      //appendLocation: '.event__items',\n      showCloseButton: true,\n      appendLocation: '.site-content',\n      unsafeMessage: `<div class=\"omed-modal\">\n                        <h3>${dataset.omedModalHeader}</h3>\n                        <div class=\"omed-modal__deets\">\n                          ${timeString}\n                          ${dataset.omedModalLocation ? '<h5><span>Where: </span>' + dataset.omedModalLocation + '</h5>': ''}\n                        </div>\n                        ${dataset.omedModalBlurb || ''}\n                        ${dataset.omedModalLink ? '<p><a href=' + dataset.omedModalLink + ' class=\"btn btn--audience\" target=\"_blank\">More details</a></p>' : ''}\n                      </div>`,\n    });\n\n    // Scroll to top of modal\n    $('.vex-content').offset(function(i, coords) {\n      return {\n        top: $(window).scrollTop(),\n        left: coords.left,\n      };\n    }); \n  });\n\n  /**\n   * --------------------------------------------------------------------------\n   *\n   * FAQs\n   *\n   * --------------------------------------------------------------------------\n   * Custom jQuery :icontains selector for finding element based on its text\n   * @see https://gist.github.com/pklauzinski/b6f836f99cfa11100488\n   */\n  $.expr[':'].icontains = $.expr.createPseudo(function(text) {\n    return function(evt) {\n      return $(evt).text().toLowerCase().indexOf(text.toLowerCase()) > -1;\n    };\n  });\n\n  $('#faqFilter').on('input', function(evt) {\n    const s = $(this).val().trim();\n    if (s == '') {\n      $('.faqs section').show();\n\n    } else {\n      $('.faqs section').hide();\n      const $matches = $('.faqs section:icontains(' + s + ') ');\n      $matches.show();\n    }\n  });\n\n  $('.faqs__form').submit(function(evt) {\n    evt.preventDefault();\n  });\n\n  /**\n   * @see https://stackoverflow.com/questions/6258521/\n   *              clear-icon-inside-input-text\n   *\n   */\n  $(document).on('input', '.clearable', function(evt) {\n    if ($(this).val() == '') {\n      $(this).removeClass('has-content');\n    } else {\n      $(this).addClass('has-content');\n    }\n  }).on('touchstart', '.has-content', function(evt) {\n    if ((this.offsetWidth - 73) < (evt.originalEvent.touches[0].pageX - this.getBoundingClientRect().left)) {\n      $(this).addClass('onX');\n    } else {\n      $(this).removeClass('onX');\n    }\n  }).on('mousemove', '.has-content', function(evt) {\n    if ((this.offsetWidth - 73) < (evt.clientX - this.getBoundingClientRect().left)) {\n      $(this).addClass('onX');\n    } else {\n      $(this).removeClass('onX');\n    }\n  }).on('touchstart click', '.onX', function(evt) {\n    evt.preventDefault();\n    console.log('clickonX');\n    $(this).removeClass('has-content onX').val('').trigger('input');\n  });\n  \n\n  /**\n   * Track outbound links for Google Analytics\n   *\n   */\n\n//  ga('create', 'UA-2910609-39', 'auto');\n//\n//  const trackOutboundLink = (evt) => {\n//\n//    // Make sure tag is an anchor and that it is outbound\n//    if (evt.target.tagName !== 'A' || evt.target.hostname === window.location.hostname) {\n//      return;\n//    }\n//\n//    const url = evt.target.href;\n//    const text = evt.target.text;\n//\n//\n//    ga('send', 'event', 'Outbound Link', url, text, {\n//      'transport': 'beacon',\n//      'hitCallback': () => document.location = url\n//    });\n//  };\n//\n//  document.addEventListener('click', trackOutboundLink, false);\n  \n\n  /**\n   * --------------------------------------------------------------------------\n   *\n   * Hide and show nav bars\n   *\n   * --------------------------------------------------------------------------\n   * @see https://codyhouse.co/gem/auto-hiding-navigation\n   */\n  let scrolling = false,\n      currentTop = 0,\n      previousTop = 0,\n      scrollDelta = 10,\n      scrollOffset = 150;\n\n  const $belowSplash = $('.splash'),\n        $mainHeader  = $('.header'),\n        headerHeight = $mainHeader.height(),\n        $secondaryNavigation = $('.secondary-nav'),\n        $scrollFlipHere = $('.scroll-flip-here'),\n        $body = $('body');\n\n  const checkOmedScrolledPoint = (currentTop) => {\n    if (currentTop > scrollOffset) {\n      $body.addClass('omedscrolled');\n    } else {\n      $body.removeClass('omedscrolled');\n    }\n  };\n\n  const checkSimpleNavigation = (currentTop) => {\n\n    checkOmedScrolledPoint(currentTop);\n\n    if (previousTop - currentTop > scrollDelta) {\n      $mainHeader.removeClass('is-hidden');\n    } else if (currentTop - previousTop > scrollDelta && \n               currentTop > scrollOffset) {\n      $mainHeader.addClass('is-hidden');\n    }\n  };\n\n\tconst checkStickyNavigation = (currentTop) => {\n\n    checkOmedScrolledPoint(currentTop);\n\n\t\t//secondary nav below intro section - sticky secondary nav\n\t\tvar secondaryNavOffsetTop = $scrollFlipHere.offset().top - \n                                $secondaryNavigation.height() - \n                                $mainHeader.height();\n\t\t\n\t\tif (previousTop >= currentTop ) {\n\t    \t//if scrolling up... \n\t    \tif( currentTop < secondaryNavOffsetTop ) {\n\t    \t\t//secondary nav is not fixed\n          //console.log('1');\n\t    \t\t$mainHeader.removeClass('is-hidden');\n\t    \t\t$secondaryNavigation.removeClass('fixed slide-up');\n\t    \t\t$scrollFlipHere.removeClass('secondary-nav-fixed');\n\t    \t} else if( previousTop - currentTop > scrollDelta ) {\n          //console.log('2');\n\t    \t\t//secondary nav is fixed\n\t    \t\t$mainHeader.removeClass('is-hidden');\n\t    \t\t$secondaryNavigation.removeClass('slide-up').addClass('fixed'); \n\t    \t\t$scrollFlipHere.addClass('secondary-nav-fixed');\n\t    \t}\n\t    \t\n\t    } else {\n\t    \t//if scrolling down...\t\n\t \t  \tif( currentTop > secondaryNavOffsetTop + scrollOffset ) {\n          //console.log('3');\n\t \t  \t\t//hide primary nav\n\t    \t\t$mainHeader.addClass('is-hidden');\n\t    \t\t$secondaryNavigation.addClass('fixed slide-up slide-down');\n\t    \t\t$scrollFlipHere.addClass('secondary-nav-fixed');\n\t    \t} else if( currentTop > secondaryNavOffsetTop ) {\n          //console.log('4');\n\t    \t\t//once the secondary nav is fixed, do not hide primary nav if you haven't scrolled more than scrollOffset \n\t    \t\t$mainHeader.removeClass('is-hidden');\n\t    \t\t$secondaryNavigation.addClass('fixed slide-down').removeClass('slide-up');\n\t    \t\t$scrollFlipHere.addClass('secondary-nav-fixed');\n\t    \t}\n\n\t    }\n\t};\n\n\n  const autoHideHeader = () => {\n    currentTop = $(window).scrollTop();\n\n    ($scrollFlipHere.length > 0) ? \n      checkStickyNavigation(currentTop) :\n      checkSimpleNavigation(currentTop);\n\n    previousTop = currentTop;\n    scrolling = false;\n  };\n\n\n  $(window).on('scroll', () => {\n\n    if (!scrolling) {\n      scrolling = true;\n\n      !window.requestAnimationFrame ? \n        setTimeout(autoHideHeader, 250) :\n        requestAnimationFrame(autoHideHeader);\n    }\n\n  });\n\n  /**\n   * --------------------------------------------------------------------------\n   *\n   * Fix font weight issues in Safari\n   * @see http://stackoverflow.com/questions/31056543/safari-font-rendering-issues\n   *\n   * --------------------------------------------------------------------------\n   */\n  const is_chrome = navigator.userAgent.indexOf('Chrome') > -1;\n  const is_explorer = navigator.userAgent.indexOf('MSIE') > -1;\n  const is_firefox = navigator.userAgent.indexOf('Firefox') > -1;\n  let is_safari = navigator.userAgent.indexOf('Safari') > -1;\n  const is_opera = navigator.userAgent.indexOf('Presto') > -1;\n  const is_mac = navigator.userAgent.indexOf('Mac OS') != -1;\n  const is_windows = !is_mac;\n\n  if (is_chrome && is_safari) {\n    is_safari = false;\n  }\n\n  if (is_safari || is_windows) {\n    $('body').css('-webkit-text-stroke', '0.25px');\n  }\n\n  /**\n   * Nav behavior\n   *\n   */\n  $mainHeader.on('click', '.nav-trigger', (evt) => {\n    evt.preventDefault();\n    $mainHeader.toggleClass('nav-open');\n  });\n\n\n});\n"]}